cmake_minimum_required(VERSION 3.12)
project(jvm)

set(CMAKE_CXX_STANDARD 11)

link_libraries(-lz)

add_executable(jvm main.cpp
        classpath/ClassPath.cpp classpath/ClassPath.h
        MainParamater.cpp MainParamater.h
        classpath/Entry.cpp classpath/Entry.h
        common.h
        classfile/ClassReader.cpp classfile/ClassReader.h
        classfile/ClassFile.cpp classfile/ClassFile.h
        classfile/ConstantPool.cpp classfile/ConstantPool.h
        classfile/ConstantInfo.cpp classfile/ConstantInfo.h
        classfile/attribute/AttributeInfo.cpp classfile/attribute/AttributeInfo.h
        common/StrUtils.h common/StrUtils.cpp
        classfile/attribute/CodeAttribute.cpp classfile/attribute/CodeAttribute.h
        classfile/attribute/ConstantValueAttribute.cpp classfile/attribute/ConstantValueAttribute.h
        classfile/attribute/LineNumberAttribute.cpp classfile/attribute/LineNumberAttribute.h
        classfile/attribute/ExceptionAttribute.cpp classfile/attribute/ExceptionAttribute.h
        classfile/attribute/LocalVariableTableAttribute.cpp classfile/attribute/LocalVariableTableAttribute.h
        classfile/attribute/SourceFileAttribute.cpp classfile/attribute/SourceFileAttribute.h
        classfile/attribute/UnparsedAttribute.cpp classfile/attribute/UnparsedAttribute.h
        runtime/Thread.cpp runtime/Thread.h
        runtime/Frame.cpp runtime/Frame.h
        runtime/Stack.cpp runtime/Stack.h
        runtime/LocalVars.cpp runtime/LocalVars.h
        runtime/OperandStack.cpp runtime/OperandStack.h
        instructions/base/Instruction.cpp instructions/base/Instruction.h
        instructions/base/BytecodeReader.cpp instructions/base/BytecodeReader.h
        instructions/constants/CONSTANT.cpp instructions/constants/CONSTANT.h
        common/BytesUtils.cpp common/BytesUtils.h
        libs/ioapi.c libs/ioapi.h libs/unzip.c libs/unzip.h
        classfile/Constants.cpp classfile/Constants.h instructions/loads/ILOAD.cpp instructions/loads/ILOAD.h instructions/stack/POP.cpp instructions/stack/POP.h instructions/stack/DUP.cpp instructions/stack/DUP.h instructions/stack/SWAP.cpp instructions/stack/SWAP.h instructions/math/REM.cpp instructions/math/REM.h instructions/math/SH.cpp instructions/math/SH.h instructions/math/AND.cpp instructions/math/AND.h instructions/math/IINC.cpp instructions/math/IINC.h instructions/conversions/D2X.cpp instructions/conversions/D2X.h instructions/conversions/I2X.cpp instructions/conversions/I2X.h instructions/conversions/F2X.cpp instructions/conversions/F2X.h instructions/conversions/L2X.cpp instructions/conversions/L2X.h instructions/comparisons/LCMP.cpp instructions/comparisons/LCMP.h instructions/comparisons/FCMP.cpp instructions/comparisons/FCMP.h instructions/comparisons/DCMP.cpp instructions/comparisons/DCMP.h instructions/comparisons/ICMP.cpp instructions/comparisons/ICMP.h instructions/comparisons/IFCOND.cpp instructions/comparisons/IFCOND.h instructions/comparisons/IF_ICMP.cpp instructions/comparisons/IF_ICMP.h instructions/comparisons/IF_ACMP.cpp instructions/comparisons/IF_ACMP.h instructions/control/GOTO.cpp instructions/control/GOTO.h instructions/control/TABLE_SWITCH.cpp instructions/control/TABLE_SWITCH.h instructions/control/LOOKUP_SWITCH.cpp instructions/control/LOOKUP_SWITCH.h instructions/extended/WIDE.cpp instructions/extended/WIDE.h instructions/loads/ALOAD.cpp instructions/loads/ALOAD.h instructions/loads/DLOAD.cpp instructions/loads/DLOAD.h instructions/loads/FLOAD.cpp instructions/loads/FLOAD.h instructions/loads/LLOAD.cpp instructions/loads/LLOAD.h instructions/stores/ASTORE.cpp instructions/stores/ASTORE.h instructions/stores/DSTORE.cpp instructions/stores/DSTORE.h instructions/stores/FSTORE.cpp instructions/stores/FSTORE.h instructions/stores/ISTORE.cpp instructions/stores/ISTORE.h instructions/stores/LSTORE.cpp instructions/stores/LSTORE.h instructions/extended/IFNULL.cpp instructions/extended/IFNULL.h instructions/extended/IFNONNULL.cpp instructions/extended/IFNONNULL.h instructions/extended/GOTOW.cpp instructions/extended/GOTOW.h Interperter.cpp Interperter.h instructions/Factory.cpp instructions/Factory.h instructions/math/ADD.cpp instructions/math/ADD.h instructions/math/DIV.cpp instructions/math/DIV.h instructions/math/MUL.cpp instructions/math/MUL.h instructions/math/NEG.cpp instructions/math/NEG.h instructions/math/OR.cpp instructions/math/OR.h instructions/math/SUB.cpp instructions/math/SUB.h instructions/math/XOR.cpp instructions/math/XOR.h instructions/constants/IPUSH.cpp instructions/constants/IPUSH.h instructions/constants/SIPUSH.cpp instructions/constants/SIPUSH.h runtime/heap/Class.cpp runtime/heap/Class.h runtime/heap/AccessFlags.h runtime/heap/ClassMember.cpp runtime/heap/ClassMember.h runtime/heap/Field.cpp runtime/heap/Field.h runtime/heap/Method.cpp runtime/heap/Method.h runtime/heap/ConstantPool.cpp runtime/heap/ConstantPool.h runtime/heap/SymRef.cpp runtime/heap/SymRef.h runtime/heap/ClassRef.cpp runtime/heap/ClassRef.h runtime/heap/MemberRef.cpp runtime/heap/MemberRef.h runtime/heap/FieldRef.cpp runtime/heap/FieldRef.h runtime/heap/MethodRef.cpp runtime/heap/MethodRef.h runtime/heap/InterfaceMethodRef.cpp runtime/heap/InterfaceMethodRef.h runtime/heap/ClassLoader.cpp runtime/heap/ClassLoader.h common/SlotArray.cpp common/SlotArray.h runtime/heap/Object.cpp runtime/heap/Object.h instructions/references/NEW.cpp instructions/references/NEW.h instructions/references/PUT_STATIC.cpp instructions/references/PUT_STATIC.h instructions/references/GET_STATIC.cpp instructions/references/GET_STATIC.h instructions/references/PUT_FIELD.cpp instructions/references/PUT_FIELD.h instructions/references/GET_FIELD.cpp instructions/references/GET_FIELD.h instructions/references/INSTANCE_OF.cpp instructions/references/INSTANCE_OF.h instructions/references/CHECK_CAST.cpp instructions/references/CHECK_CAST.h instructions/constants/LDC.cpp instructions/constants/LDC.h common/ZipUtils.cpp common/ZipUtils.h classpath/DirEntry.cpp classpath/DirEntry.h classpath/CompositeEntry.cpp classpath/CompositeEntry.h classpath/WildcardEntry.cpp classpath/WildcardEntry.h classpath/ZipEntry.cpp classpath/ZipEntry.h classfile/attribute/BootstrapMethodsAttribute.cpp classfile/attribute/BootstrapMethodsAttribute.h classfile/attribute/EnclosingMethodAttribute.cpp classfile/attribute/EnclosingMethodAttribute.h classfile/attribute/InnerClassesAttribute.cpp classfile/attribute/InnerClassesAttribute.h classfile/attribute/SignatureAttribute.cpp classfile/attribute/SignatureAttribute.h classfile/ConstantNumeric.cpp classfile/ConstantNumeric.h classfile/ConstantInvokeDynamic.cpp classfile/ConstantInvokeDynamic.h instructions/references/INVOKE_VIRTUAL.cpp instructions/references/INVOKE_VIRTUAL.h instructions/references/INVOKE_SPECIAL.cpp instructions/references/INVOKE_SPECIAL.h runtime/heap/MethodLookup.cpp runtime/heap/MethodLookup.h instructions/base/MethodInvokeLogic.cpp instructions/base/MethodInvokeLogic.h runtime/heap/MethodDescriptor.cpp runtime/heap/MethodDescriptor.h instructions/control/RETURN.cpp instructions/control/RETURN.h instructions/references/INVOKE_STATIC.cpp instructions/references/INVOKE_STATIC.h instructions/references/INVOKE_INTERFACE.cpp instructions/references/INVOKE_INTERFACE.h runtime/heap/ArrayClass.cpp runtime/heap/ArrayClass.h instructions/references/NEW_ARRAY.cpp instructions/references/NEW_ARRAY.h instructions/references/ANEW_ARRAY.cpp instructions/references/ANEW_ARRAY.h instructions/references/ARRAY_LENGTH.cpp instructions/references/ARRAY_LENGTH.h instructions/loads/XALOAD.cpp instructions/loads/XALOAD.h instructions/stores/XASTORE.cpp instructions/stores/XASTORE.h instructions/references/MULTI_ANEW_ARRAY.cpp instructions/references/MULTI_ANEW_ARRAY.h runtime/heap/StringPool.cpp runtime/heap/StringPool.h native/Registry.cpp native/Registry.h instructions/reserved/INVOKE_NATIVE.cpp instructions/reserved/INVOKE_NATIVE.h native/java/lang/JObject.cpp native/java/lang/JObject.h native/java/lang/JClass.cpp native/java/lang/JClass.h runtime/heap/Constant.cpp runtime/heap/Constant.h native/java/lang/JSystem.cpp native/java/lang/JSystem.h runtime/heap/ArrayObject.cpp runtime/heap/ArrayObject.h native/java/lang/JFloat.cpp native/java/lang/JFloat.h native/java/lang/JDouble.cpp native/java/lang/JDouble.h native/java/lang/JString.cpp native/java/lang/JString.h native/sun/misc/JVM.cpp native/sun/misc/JVM.h)